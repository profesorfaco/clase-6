<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="Diseño y nuevos medios" />
        <link href="style.css" rel="stylesheet" />
        <title>DNO037</title>
    </head>
    <body>
        <div class="container">
            <header>
                <h1>USGS Earthquakes</h1>
                <div>
                    <h2>20 Largest Earthquakes in the World</h2>
                    <a href="index.html" title="M4.5+ Earthquakes past 7 days. Updated every minute">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z" /></svg>
                    </a>
                </div>
            </header>
            <main>
                <section>
                    <table>
                        <thead>
                            <tr>
                                <td>Lugar</td>
                                <td>Fecha</td>
                                <td>Mag</td>
                                <td>Lat</td>
                                <td>Lon</td>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </section>
            </main>
            <footer>
                <p><a href="#">Nombre Apellido</a> <a href="#">DNO037</a></p>
            </footer>
        </div>
        <!--Primero vamos a buscar la versión más reciente de jQuery-->
        <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
        <!--Segundo vamos a buscar un plugin de jQuery - https://github.com/evanplaice/jquery-csv-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/1.0.3/jquery.csv.min.js" integrity="sha512-Y8iWYJDo6HiTo5xtml1g4QqHtl/PO1w+dmUpQfQSOTqKNsMhExfyPN2ncNAe9JuJUSKzwK/b6oaNPop4MXzkwg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <!--Y ahora podemos usar biblioteca y plugin-->
        <script>
            $(function () {
                var data;
                $.get("https://raw.githubusercontent.com/profesorfaco/dno037-2023/main/clase-07/20-largest-earthquakes-world.csv").done(function (csv) {
                    data = $.csv.toObjects(csv);
                    console.log(data);
                    //un forEach para construir cada fila en el cuerpo de la tabla
                    data.forEach((terremoto) => {
                        $("tbody").append("<tr><td>" + terremoto.Name + "</td><td>" + terremoto.Date + "</td><td>" + terremoto.Mag + "</td><td>" + terremoto.Latitude + "</td><td>" + terremoto.Longitude + "</td></tr>");
                    });
                }); // cierro $.get((){});
            }); //cierro $(function(){});
        </script>
    </body>
</html>